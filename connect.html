<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Let’s Connect | Associated Industries</title>

  <!-- Fonts -->
  <style>
    @font-face {
      font-family: "Qaranta";
      src: url("/assets/Qaranta-Bold.woff2") format("woff2"),
           url("/assets/Qaranta-Bold.woff") format("woff");
      font-weight: 700;
      font-style: normal;
      font-display: swap;
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">

  <!-- Styles -->
  <style>
    :root {
      --ai-blue: #0073E5;
      --ai-green: #22C55E;
      --ai-light: #E1F1FD;
      --ai-ink: #15182F;
      --ai-deep: #2F6F4E;
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: "Open Sans", sans-serif;
      background: url("https://skyfordscissorhands.github.io/connect/web-trees&lake4.jpg") 
              no-repeat center center fixed;
    background-size: cover;
      color: var(--ai-ink);
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 20px;
    }

    .card {
      background: var(--ai-light);
      border-radius: 24px;
      box-shadow: 0 12px 24px rgba(0, 115, 229, 0.2);
      padding: 36px;
      text-align: center;
      width: 100%;
      max-width: 460px;
      position: relative;
      overflow: hidden;
    }

    h1 {
      font-family: "Qaranta", sans-serif;
      font-weight: 700;
      color: var(--ai-blue);
      font-size: 2rem;
      margin: 0 0 8px;
    }

    p {
      margin: 0 0 18px;
      color: var(--ai-ink);
    }

    input {
      width: 100%;
      padding: 12px;
      margin: 8px 0;
      border: 1px solid #cfd8e3;
      border-radius: 10px;
      font-family: "Open Sans", sans-serif;
      font-size: 15px;
      outline: none;
    }

    input:focus {
      border-color: var(--ai-blue);
      box-shadow: 0 0 0 3px rgba(0, 115, 229, 0.12);
    }

    button {
      width: 100%;
      background: var(--ai-blue);
      color: white;
      border: none;
      border-radius: 10px;
      padding: 14px;
      margin-top: 12px;
      font-weight: 600;
      font-family: "Open Sans", sans-serif;
      font-size: 16px;
      cursor: pointer;
      transition: background 0.3s ease, transform 0.2s ease;
    }

    button:hover {
     background: var(--ai-green);
    color: white;
    border: 2px solid var(--ai-green);
    box-shadow: 0 4px 10px rgba(34, 197, 94, 0.25);
    transform: translateY(-1px);
    transition: background 0.25s ease, transform 0.2s ease, box-shadow 0.25s ease;
    }

    .slide-up {
      transform: translateY(-110%);
      opacity: 0;
      pointer-events: none;
    }

    #saveStep {
      position: absolute;
      inset: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      opacity: 0;
      pointer-events: none;
      z-index: -1;
      transform: translateY(10%);
      transition: all 0.6s ease;
    }

    #saveStep.show {
      opacity: 1;
      transform: translateY(0);
    }

    .tick {
      background: var(--ai-green);
      color: white;
      font-weight: 700;
      font-size: 22px;
      width: 48px;
      height: 48px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 10px;
      box-shadow: 0 6px 12px rgba(34, 197, 94, 0.3);
    }

    .footer {
      margin-top: 20px;
      font-size: 13px;
      color: #555;
    }
  </style>
</head>
<body>

  <main class="card">
    <h1>Let’s Connect</h1>
    <p>Share your info below to receive our contact instantly.</p>

    <!-- Stage 1: Form -->
    <form id="connectForm"
      action="https://formspree.io/f/mvgvzlye"
      method="POST">
    <!-- FormSubmit options -->
    <input type="hidden" name="_next" value="https://associated-industries.com/">
    <input type="hidden" name="_captcha" value="false">
    <input type="hidden" name="_template" value="table">

    <input type="text" name="name" placeholder="Name" required>
    <input type="email" name="email" placeholder="Email" required>
    <input type="tel" name="phone" placeholder="Phone Number" required>
    <input type="text" name="company" placeholder="Company Name (optional)">
    <button type="submit">Connect</button>
</form>

    <!-- Stage 2: Save step -->
    <div id="saveStep" style="display:none; text-align:center; margin-top:20px;">
        <p>Thanks for connecting!</p>
        <a href="https://associated-industries.com/robert.vcf" 
           class="btn"
           download>
           Save My Contact
        </a>
    </div>

    

    <div class="footer">
      Soil & Groundwater Professionals<br>
      Associated Industries
    </div>
  </main>


<script>
const form = document.getElementById("connectForm");

form.addEventListener("submit", function (e) {
  e.preventDefault(); // stop Formspree from taking over the page

  const formData = new FormData(form);

  // Send email to Robert via Formspree
  fetch(form.action, {
    method: "POST",
    body: formData,
    headers: { Accept: "application/json" }
  })
  .then(() => {
    // Replace form with success message + Save button
    form.innerHTML = `
      <div style="text-align:center;">
        <h2>Thanks for connecting!</h2>
        <p>Save Robert’s contact below.</p>
        <button id="saveContact" class="btn">Save My Info</button>
      </div>
    `;

    // When they click "Save My Info"
    document.getElementById("saveContact").addEventListener("click", () => {
      window.open("https://drive.google.com/uc?export=download&id=PASTE_ROBERT_VCF_ID", "_blank");
      setTimeout(() => {
        window.location.href = "https://associated-industries.com/";
      }, 2000);
    });
  })
  .catch(() => {
    form.innerHTML = `
      <p>Sorry, something went wrong. Please refresh and try again.</p>
    `;
  });
});
</script>


</body>
</html>
